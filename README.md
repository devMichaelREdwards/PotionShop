# PotionShop

Mock Potion Shop Website

### Useful Links

-   [Jira Board](https://potionshoppe.atlassian.net/jira/software/projects/PS/boards/2)
-   [GitHub](https://github.com/devMichaelREdwards/PotionShoppe)

TODO: Write more on the Readme

Have installed ->
WSL2
Docker

Dev environment info ->
Database: localhost:1433 (sqlserver if inside container)
API: localhost:7211 (api if inside container)

Dev environment setup ->
dotnet dev-certs https --trust
docker compose up -d --build
Run SQL user script
Log in as new SQL user
Run SQL install script

Creating the database
In docker container, run dotnet ef database update(figure out how to do not in docker???)

Updating the database
dotnet ef migrations add NameOfMigration
In docker container, run dotnet ef database update(figure out how to do not in docker???)

Adding a table to database
Create SQL patch file
Update install file
Add the table to docker database
DO NOT OVERWRITE Api.Data.PotionShoppeContext, Make needed changes from autogenerated files to this file then delete the autogenerated files

(The below command will autogenerate the file but also overwrite all models and context. Better way later maybe?)
dotnet ef dbcontext scaffold "Server=localhost;Database=PotionShoppe;User Id=PotionShoppe;Password=PotionPassword1!;Trusted_Connection=False;TrustServerCertificate=True;" Microsoft.EntityFrameworkCore.SqlServer -o Models --force
